/*
    TbSK:
    LANG: CPP
    AUTHOR: PeaTT~
    SCHOOL: RYW
*/
#include<bits/stdc++.h>
using namespace std;
char a[5][100],b[5][100],c[50];
int main()
{
    int n,x=100,m,i,j,k;
    long long sum1=0,sum2=0;
    gets(c);
    sscanf(c,"%d %d",&n,&m);
    gets(a[1]); gets(a[2]); gets(a[3]);
    gets(b[1]); gets(b[2]); gets(b[3]);
    for(i=0;i<n*4;i+=4){
        if(a[1][i]==' '&&a[1][i+1]==' '&&a[1][i+2]==' '
        && a[2][i]==' '&&a[2][i+1]==' '&&a[2][i+2]=='|'
        && a[3][i]==' '&&a[3][i+1]==' '&&a[3][i+2]=='|'){
            x = 1;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]==' '&&a[2][i+1]=='_'&&a[2][i+2]=='|'
        && a[3][i]=='|'&&a[3][i+1]=='_'&&a[3][i+2]==' '){
            x = 2;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]==' '&&a[2][i+1]=='_'&&a[2][i+2]=='|'
        && a[3][i]==' '&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 3;
        }else if(a[1][i]==' '&&a[1][i+1]==' '&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]=='_'&&a[2][i+2]=='|'
        && a[3][i]==' '&&a[3][i+1]==' '&&a[3][i+2]=='|'){
            x = 4;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]=='_'&&a[2][i+2]==' '
        && a[3][i]==' '&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 5;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]=='_'&&a[2][i+2]==' '
        && a[3][i]=='|'&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 6;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]==' '&&a[2][i+1]==' '&&a[2][i+2]=='|'
        && a[3][i]==' '&&a[3][i+1]==' '&&a[3][i+2]=='|'){
            x = 7;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]=='_'&&a[2][i+2]=='|'
        && a[3][i]=='|'&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 8;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]=='_'&&a[2][i+2]=='|'
        && a[3][i]==' '&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 9;
        }else if(a[1][i]==' '&&a[1][i+1]=='_'&&a[1][i+2]==' '
        && a[2][i]=='|'&&a[2][i+1]==' '&&a[2][i+2]=='|'
        && a[3][i]=='|'&&a[3][i+1]=='_'&&a[3][i+2]=='|'){
            x = 0;
        }
        sum1 *= 10;
        sum1 +=x;
    }
    for(i=0;i<m*4;i+=4){
        if(b[1][i]==' '&&b[1][i+1]==' '&&b[1][i+2]==' '
        && b[2][i]==' '&&b[2][i+1]==' '&&b[2][i+2]=='|'
        && b[3][i]==' '&&b[3][i+1]==' '&&b[3][i+2]=='|'){
            x = 1;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]==' '&&b[2][i+1]=='_'&&b[2][i+2]=='|'
        && b[3][i]=='|'&&b[3][i+1]=='_'&&b[3][i+2]==' '){
            x = 2;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]==' '&&b[2][i+1]=='_'&&b[2][i+2]=='|'
        && b[3][i]==' '&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 3;
        }else if(b[1][i]==' '&&b[1][i+1]==' '&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]=='_'&&b[2][i+2]=='|'
        && b[3][i]==' '&&b[3][i+1]==' '&&b[3][i+2]=='|'){
            x = 4;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]=='_'&&b[2][i+2]==' '
        && b[3][i]==' '&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 5;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]=='_'&&b[2][i+2]==' '
        && b[3][i]=='|'&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 6;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]==' '&&b[2][i+1]==' '&&b[2][i+2]=='|'
        && b[3][i]==' '&&b[3][i+1]==' '&&b[3][i+2]=='|'){
            x = 7;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]=='_'&&b[2][i+2]=='|'
        && b[3][i]=='|'&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 8;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]=='_'&&b[2][i+2]=='|'
        && b[3][i]==' '&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 9;
        }else if(b[1][i]==' '&&b[1][i+1]=='_'&&b[1][i+2]==' '
        && b[2][i]=='|'&&b[2][i+1]==' '&&b[2][i+2]=='|'
        && b[3][i]=='|'&&b[3][i+1]=='_'&&b[3][i+2]=='|'){
            x = 0;
        }
        sum2 *= 10;
        sum2 +=x;
    }
    printf("%lld\n",sum1+sum2);
    return 0;
}
/*
4 3
         _   _
  | |_|  _|  _|
  |   | |_   _|
*/

